<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Paul Marchiset</title>
    <meta name="copyright" content="Copyright 2023 Paul Marchiset" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/src/css/style.css" />
    <link
      rel="shortcut icon"
      href="/assets/icons/LOGO_PM.svg"
      type="image/x-icon"
    />
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.0.1/lib/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Observer.min.js"></script>
  </head>
  <body>
    <header>
      <a href="/"><img src="/assets/icons/LOGO_PM.svg" alt="logo PM" /></a>
    </header>
    <body>

        <div id="section1" class="section">
          <div class="content">Content for Section 1</div>
        </div>
        <div id="section2" class="section">
          <div class="content">Content for Section 2</div>
        </div>
        <div id="section3" class="section">
          <div class="content">Content for Section 3</div>
        </div>
        <div id="section4" class="section">
          <div class="content">Content for Section 4</div>
        </div>
        <div id="section5" class="section">
          <div class="content">Content for Section 5</div>
        </div>
    <nav class="menu">
      <a href="/works.html">WORKS</a>
      <a href="/about.html">ABOUT ME</a>
      <a href="/contact.html">CONTACT</a>
    </nav>
  </body>
  <style scoped>
    .section {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      position: relative;
    }

    .content {
      position: absolute;
    }
    
#section1 {
    background-color: red;
}

#section2 {
    background-color: blue;
}

#section3 {
    background-color: green;

}

#section4 {
    background-color: yellow;

}

#section5 {
    background-color: purple;
}
  </style>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    // gsap.utils.toArray('.section').forEach((section, index) => {
    //   const trigger = section;
    //   const start = 'top top';
    //   const end = `+=${index === 4 ? '' : '100%'}`;

    //   gsap.fromTo(section, { y: '0%' }, {
    //     y: index % 2 === 0 ? '-100%' : '100%',
    //     scrollTrigger: {
    //       trigger,
    //       start,
    //       end,
    //       scrub: true,
    //       markers: true, // Set to false in production
    //     },
    //   });
    // });

    gsap.to(".section", {
      yPercent: -100 * 5,
      ease: "none",
      scrollTrigger: {
        trigger: ".section",
        pin: true,
        scrub: 1,
        markers: true,
        snap: 1 / (5 - 1),
        // base vertical scrolling on how wide the container is so it feels more natural.
        end: () => "+=" + document.querySelector(".section").offsetWidth,
      },
    });

  </script>
</html>
